<!-- Wrapper with horizontal margin -->
<div class="mx-4">
  <!-- Add Company Button -->
  <div class="d-flex justify-content-end my-4">
    <button class="btn btn-primary rounded-pill px-4" (click)="showDialog()">
      <i class="bi bi-plus-circle me-2"></i> Add Company
    </button>
  </div>

  <!-- Company Table -->
  <div class="table-responsive">
    <table
      class="table table-bordered table-hover align-middle text-center animate__animated animate__fadeInUp"
    >
      <thead class="table-light">
        <tr>
          <th>Company ID</th>
          <th>Company Name</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let company of companies">
          <td>{{ company.id }}</td>
          <td>{{ company.name }}</td>
          <td>
            <i
              class="pi pi-eye text-primary me-3"
              style="cursor: pointer"
              (click)="navigateTo(company.id)"
            ></i>
            <i
              class="pi pi-pencil text-primary me-3"
              style="cursor: pointer"
              (click)="showDialog(company.id, company.name)"
            ></i>
            <i
              class="pi pi-trash text-danger"
              style="cursor: pointer"
              (click)="delete(company.id)"
            ></i>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Company Dialog -->
  <p-dialog
    header="{{ companyId ? 'Edit Company' : 'Add Company' }}"
    [(visible)]="isVisible"
    (onHide)="hideDialog()"
    [modal]="true"
    [style]="{ width: '400px' }"
    [draggable]="false"
    [resizable]="false"
    [dismissableMask]="true"
    [breakpoints]="{}"
    [styleClass]="'custom-dialog animate__animated animate__fadeInDown'"
  >
    <form [formGroup]="companyForm" (ngSubmit)="onSubmit()">
      <div class="p-fluid">
        <div class="p-field">
          <label for="name" class="field-label">Name</label>
          <input id="name" pInputText formControlName="name" />
        </div>
      </div>
      <p-footer class="dialog-footer">
        <div class="dialog-actions">
          <button
            pButton
            type="submit"
            label="Save"
            class="p-button-success"
            [disabled]="companyForm.invalid"
          ></button>
        </div>
      </p-footer>
    </form>
  </p-dialog>
</div>
